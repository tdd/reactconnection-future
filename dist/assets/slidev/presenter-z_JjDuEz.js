import{b as A,c as G,d as H,e as J,f as Q}from"../modules/unplugin-icons-DdL09wdV.js";import{t as F,ag as E,d as D,c as f,i as v,z as e,o as c,I as y,b as x,e as t,l as i,F as P,x as w,g as S,ae as K,ah as W,ai as X,h as N,p as L,a as O,C as B,N as Y,U as Z,J as ee,aj as te,ak as se,k,ad as oe}from"../modules/vue-CoY6Ph6S.js";import{_ as M,C as ne,u as ae,c as R,A as le,D as re,y as ie,r as ce,E as g,F as C,G as ue,H as de,I as pe,J as ve,g as me,K as _e,L as fe,M as xe,N as V,O as he,P as be,Q as ye,R as ke,B as ge,s as z}from"../index-Bfv4YJsW.js";import{r as Ce,S as we,a as q,I as U,Q as Se,N as Ne,G as $e}from"./SlidesShow-DwNpRXpg.js";import{S as Ie,g as ze}from"./bottom-Bm6NzcYb.js";import{N as Fe}from"./NoteDisplay-D7ewIrhz.js";import Pe from"./DrawingControls-lCa43-nd.js";import"../modules/shiki-CNrqLFow.js";import"./DrawingPreview-CMfXtBCC.js";function De(l){if(l==null)return{info:F(),update:async()=>{}};const r=`/@slidev/slide/${l}.json`,{data:s,execute:n}=E(r).json().get();return n(),{info:s,update:async d=>await fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)}).then(a=>a.json())}}const Me=D({__name:"NoteStatic",props:{no:{type:Number,required:!1},class:{type:String,required:!1},clicksContext:{type:null,required:!1}},setup(l){const r=l,{info:s}=De(r.no);return(n,m)=>{var d,a;return c(),f(Fe,{class:v(r.class),note:(d=e(s))==null?void 0:d.note,"note-html":(a=e(s))==null?void 0:a.noteHTML,"clicks-context":n.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Te=M(Me,[["__file","/Users/christophe.porteneuve/Personal/talks/reactconnection-future/node_modules/@slidev/client/internals/NoteStatic.vue"]]),je=l=>(L("data-v-52a29648"),l=l(),O(),l),Be=["title"],Re={class:"flex gap-1 items-center min-w-16"},Ve={"text-primary":""},qe=je(()=>t("span",{op50:""},"/",-1)),Ue={op50:""},Le=["max"],Oe=D({__name:"ClicksSlider",props:{clicksContext:{type:null,required:!0}},setup(l){const r=l,s=y(()=>r.clicksContext.total),n=y({get(){return r.clicksContext.current>s.value?-1:r.clicksContext.current},set(a){r.clicksContext.current=a}}),m=y(()=>Array.from({length:s.value+1},(a,u)=>u));function d(){(n.value<0||n.value>s.value)&&(n.value=0)}return(a,u)=>{const _=A;return c(),x("div",{class:v(["flex gap-0.5 items-center select-none",s.value?"":"op50"]),title:`Clicks in this slide: ${s.value}`},[t("div",Re,[i(_,{"text-sm":"",op50:""}),n.value<=s.value&&n.value>=0?(c(),x(P,{key:0},[t("span",Ve,w(n.value),1),qe],64)):S("v-if",!0),t("span",Ue,w(s.value),1)]),t("div",{relative:"","flex-auto":"",h5:"",flex:"~",onDblclick:u[1]||(u[1]=o=>n.value=e(ne))},[(c(!0),x(P,null,K(m.value,o=>(c(),x("div",{key:o,border:"y main","of-hidden":"",relative:"",class:v([o===0?"rounded-l border-l":"",o===s.value?"rounded-r border-r":""]),style:N({width:s.value>0?`${1/s.value*100}%`:"100%"})},[t("div",{absolute:"","inset-0":"",class:v(o<=n.value?"bg-primary op20":"")},null,2),t("div",{class:v([+o==+n.value?"text-primary font-bold op100 border-primary":"op30 border-main",o===0?"rounded-l":"",o===s.value?"rounded-r":"border-r-2"]),"w-full":"","h-full":"","text-xs":"",flex:"","items-center":"","justify-center":"","z-1":""},w(o),3)],6))),128)),W(t("input",{"onUpdate:modelValue":u[0]||(u[0]=o=>n.value=o),class:"range",absolute:"","inset-0":"",type:"range",min:0,max:s.value,step:1,"z-10":"",op0:"",style:N({"--thumb-width":`${1/(s.value+1)*100}%`}),onMousedown:d},null,44,Le),[[X,n.value]])],32)],10,Be)}}}),Ae=M(Oe,[["__scopeId","data-v-52a29648"],["__file","/Users/christophe.porteneuve/Personal/talks/reactconnection-future/node_modules/@slidev/client/internals/ClicksSlider.vue"]]),T=l=>(L("data-v-d0ba6bbb"),l=l(),O(),l),Ge={class:"bg-main h-full slidev-presenter"},He=T(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),Je={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Qe=T(()=>t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),Ee={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},Ke={class:"border-t border-main py-1 px-2 text-sm"},We={class:"grid-section bottom flex"},Xe=T(()=>t("div",{"flex-auto":""},null,-1)),Ye={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},Ze={class:"progress-bar"},et=D({__name:"presenter",setup(l){const r=F();Ce(),ae(r);const s=R.titleTemplate.replace("%s",R.title||"Slidev");le({title:`Presenter - ${s}`}),F(!1);const{timer:n,resetTimer:m}=re(),d=ie.map(_=>ce(_)),a=y(()=>g.value.current<g.value.total?[C.value,g.value.current+1]:ue.value?[de.value,0]:null),u=y(()=>a.value&&d[+a.value[0].path-1]);return B([C,pe],()=>{u.value&&(u.value.current=a.value[1])},{immediate:!0}),Y(),Z(()=>{const _=r.value.querySelector("#slide-content"),o=ee(te()),$=se();B(()=>{if(!$.value||me.value||!_e.value)return;const p=_.getBoundingClientRect(),h=(o.x-p.left)/p.width*100,b=(o.y-p.top)/p.height*100;if(!(h<0||h>100||b<0||b>100))return{x:h,y:b}},p=>{ve.cursor=p})}),(_,o)=>{var j;const $=G,p=H,h=J,b=Q;return c(),x(P,null,[t("div",Ge,[t("div",{class:v(["grid-container",`layout${e(fe)}`])},[t("div",{ref_key:"main",ref:r,class:"relative grid-section main flex flex-col"},[i(q,{key:"main",class:"h-full w-full p-2 lg:p-4 flex-auto"},{default:k(()=>[i(we,{"render-context":"presenter"})]),_:1}),(c(),f(Ae,{key:(j=e(C))==null?void 0:j.path,"clicks-context":e(xe)(e(C)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),He],512),t("div",Je,[a.value&&u.value?(c(),f(q,{key:"next",class:"h-full w-full"},{default:k(()=>[(c(),f(e(Ie),{is:a.value[0].component,key:a.value[0].path,"clicks-context":u.value,class:v(e(ze)(a.value[0])),route:a.value[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):S("v-if",!0),Qe]),S(" Notes "),(c(),x("div",Ee,[(c(),f(Te,{key:`static-${e(V)}`,no:e(V),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:N({fontSize:`${e(he)}em`}),"clicks-context":e(g)},null,8,["no","style","clicks-context"])),t("div",Ke,[i(U,{title:"Increase font size",onClick:e(be)},{default:k(()=>[i($)]),_:1},8,["onClick"]),i(U,{title:"Decrease font size",onClick:e(ye)},{default:k(()=>[i(p)]),_:1},8,["onClick"]),S("v-if",!0)])])),t("div",We,[i(Ne,{persist:!0}),Xe,t("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:o[2]||(o[2]=(...I)=>e(m)&&e(m)(...I))},[i(h,{class:"absolute"}),i(b,{class:"absolute opacity-0"})]),t("div",Ye,w(e(n)),1)]),(c(),f(Pe,{key:2}))],2),t("div",Ze,[t("div",{class:"progress h-3px bg-primary transition-all",style:N({width:`${(e(ke)-1)/(e(ge)-1)*100}%`})},null,4)])]),i($e),i(Se,{modelValue:e(z),"onUpdate:modelValue":o[3]||(o[3]=I=>oe(z)?z.value=I:null)},null,8,["modelValue"])],64)}}}),ut=M(et,[["__scopeId","data-v-d0ba6bbb"],["__file","/Users/christophe.porteneuve/Personal/talks/reactconnection-future/node_modules/@slidev/client/pages/presenter.vue"]]);export{ut as default};
